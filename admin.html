<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá th·ªëng Qu·∫£n tr·ªã QLLƒê 2 - v21.11</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --primary: #0068ff; }
        body { background: #f1f5f9; font-family: system-ui, sans-serif; }
        .tab-btn { padding: 12px 24px; font-weight: 800; font-size: 13px; text-transform: uppercase; color: #94a3b8; border-bottom: 3px solid transparent; transition: all 0.3s; }
        .tab-btn.active { color: var(--primary); border-bottom-color: var(--primary); background: #f8faff; }
        .card { background: white; border-radius: 1.5rem; transition: all 0.2s; border: 1px solid #e2e8f0; }
        .hidden { display: none; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <header class="bg-white rounded-3xl shadow-sm border mb-8 overflow-hidden">
            <div class="p-6 border-b flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-black text-slate-800 uppercase italic">H·ªá th·ªëng ƒêi·ªÅu h√†nh</h1>
                    <p class="text-xs text-slate-400 font-bold uppercase tracking-widest">ƒê·ªôi Qu·∫£n l√Ω L∆∞·ªõi ƒëi·ªán 2</p>
                </div>
                <div class="text-right">
                    <span class="text-[10px] bg-blue-600 text-white px-3 py-1 rounded-full font-black">ADMIN MODE</span>
                </div>
            </div>
            <nav class="flex">
                <button onclick="switchTab('nhansu')" id="btn-nhansu" class="tab-btn flex-1 active">Qu·∫£n l√Ω Nh√¢n s·ª±</button>
                <button onclick="switchTab('khoviec')" id="btn-khoviec" class="tab-btn flex-1">Kho vi·ªác & Ph√¢n c√¥ng</button>
            </nav>
        </header>

        <section id="tab-nhansu-content" class="space-y-6">
            <div class="flex justify-between items-center">
                <h2 class="text-xl font-black text-slate-700 uppercase italic">Danh s√°ch c√°n b·ªô c√¥ng nh√¢n vi√™n</h2>
                <button class="bg-blue-600 text-white px-4 py-2 rounded-xl font-bold text-xs uppercase shadow-lg shadow-blue-100">+ Th√™m nh√¢n s·ª±</button>
            </div>
            <div id="staffGrid" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4">
                </div>
        </section>

        <section id="tab-khoviec-content" class="hidden space-y-6">
            <div class="flex justify-between items-center">
                <h2 class="text-xl font-black text-slate-700 uppercase italic italic">H·ªì s∆° c√¥ng vi·ªác ch·ªù ph√¢n c√¥ng</h2>
                <div class="flex bg-slate-200 p-1 rounded-xl text-[10px]">
                    <button onclick="filterWork('new')" id="work-new" class="bg-white px-3 py-1 rounded-lg font-black text-blue-600 shadow-sm">CH·ªú GIAO</button>
                    <button onclick="filterWork('assigned')" id="work-done" class="px-3 py-1 rounded-lg font-black text-slate-500">ƒê√É GIAO</button>
                </div>
            </div>
            <div id="workGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                </div>
        </section>
    </div>

    <div id="assignModal" class="hidden fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl">
            <h3 class="text-lg font-black text-slate-800 uppercase italic mb-1">Giao vi·ªác cho t·ªï</h3>
            <p id="modalTaskName" class="text-xs font-bold text-blue-600 mb-6 pb-4 border-b"></p>
            
            <form class="space-y-6">
                <div>
                    <label class="text-[10px] font-black text-slate-400 uppercase ml-1 block mb-2">Nh√≥m tr∆∞·ªüng ch·ªãu tr√°ch nhi·ªám</label>
                    <select id="selectMain" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl font-bold text-slate-700 outline-none focus:border-blue-500">
                        </select>
                </div>
                <div>
                    <label class="text-[10px] font-black text-slate-400 uppercase ml-1 block mb-2">Nh√≥m vi√™n ph·ªëi h·ª£p</label>
                    <div id="checkSupport" class="grid grid-cols-2 gap-2 max-h-40 overflow-y-auto pr-2">
                        </div>
                </div>
                <div class="pt-4 flex gap-3">
                    <button type="button" onclick="closeModal()" class="flex-1 py-4 font-bold text-slate-400 text-xs">H·ª¶Y</button>
                    <button type="button" onclick="confirmAssign()" class="flex-[2] bg-blue-600 text-white font-black py-4 rounded-2xl shadow-lg shadow-blue-200 uppercase text-xs tracking-widest">X√°c nh·∫≠n giao</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // D·ªÆ LI·ªÜU NH√ÇN S·ª∞ G·ªêC (D√πng chung cho c·∫£ 2 tab)
        const staffData = [
            { id: "CN01", name: "Tr·∫ßn C√¥ng ƒê·∫πp", rank: "B·∫≠c 5/5", role: "Ch·ªâ huy" },
            { id: "CN02", name: "Nguy·ªÖn VƒÉn An", rank: "B·∫≠c 4/5", role: "C√¥ng nh√¢n" },
            { id: "CN03", name: "L√™ Th·ªã B√¨nh", rank: "B·∫≠c 3/5", role: "C√¥ng nh√¢n" },
            { id: "CN04", name: "V≈© Ho√†i Nam", rank: "B·∫≠c 5/5", role: "K·ªπ thu·∫≠t" }
        ];

        // D·ªÆ LI·ªÜU C√îNG VI·ªÜC (T·ª´ Kho vi·ªác HLAT)
        const workData = [
            { id: 101, org: "C√¥ng ty TNHH XNK Thi·∫øt b·ªã CN Trung Vi·ªát", addr: "194D/4 ƒë∆∞·ªùng TMT 17, Qu·∫≠n 12", real: 24.1, plan: 178.5, status: "new" },
            { id: 102, org: "√îng V≈© Ho√†i Nam", addr: "92/8/11 ƒê∆∞·ªùng Nguy·ªÖn S∆°n, T√¢n Ph√∫", real: 0.0, plan: 0.0, status: "new" }
        ];

        // CHUY·ªÇN TAB
        function switchTab(tab) {
            document.getElementById('tab-nhansu-content').classList.add('hidden');
            document.getElementById('tab-khoviec-content').classList.add('hidden');
            document.getElementById('btn-nhansu').classList.remove('active');
            document.getElementById('btn-khoviec').classList.remove('active');

            document.getElementById(`tab-${tab}-content`).classList.remove('hidden');
            document.getElementById(`btn-${tab}`).classList.add('active');
            
            if(tab === 'nhansu') loadStaffGrid();
            if(tab === 'khoviec') filterWork('new');
        }

        // LOAD DANH S√ÅCH NH√ÇN S·ª∞ (Tab 1)
        function loadStaffGrid() {
            const grid = document.getElementById('staffGrid');
            grid.innerHTML = staffData.map(s => `
                <div class="card p-4 flex items-center gap-4">
                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center font-black text-blue-600">${s.name.charAt(0)}</div>
                    <div>
                        <h4 class="text-xs font-black text-slate-800 uppercase">${s.name}</h4>
                        <p class="text-[10px] text-slate-400 font-bold">${s.rank} - ${s.role}</p>
                    </div>
                </div>
            `).join('');
        }

        // LOAD DANH S√ÅCH KHO VI·ªÜC (Tab 2)
        function filterWork(status) {
            const grid = document.getElementById('workGrid');
            const data = workData.filter(w => w.status === status);
            
            grid.innerHTML = data.map(w => `
                <div class="card p-5 flex flex-col h-full bg-white">
                    <div class="flex justify-between mb-3"><span class="text-[9px] font-black bg-blue-50 text-blue-600 px-2 py-1 rounded-lg uppercase">HLAT</span></div>
                    <h4 class="font-black text-slate-800 text-[13px] mb-1 uppercase leading-tight">${w.org}</h4>
                    <p class="text-[10px] text-slate-500 mb-4 italic">üìç ${w.addr}</p>
                    <div class="grid grid-cols-2 gap-2 bg-slate-50 p-3 rounded-2xl border mb-5">
                        <div class="text-center"><span class="block text-[8px] font-bold text-slate-400 uppercase italic uppercase">Th·ª±c t·∫ø</span><span class="text-[11px] font-black text-red-600">${w.real} m¬≤</span></div>
                        <div class="text-center border-l"><span class="block text-[8px] font-bold text-slate-400 uppercase italic">Quy ho·∫°ch</span><span class="text-[11px] font-black text-red-600">${w.plan} m¬≤</span></div>
                    </div>
                    <button onclick="openAssignModal('${w.org}')" class="w-full bg-blue-600 text-white font-black py-3 rounded-xl shadow-lg shadow-blue-100 uppercase text-[10px] mt-auto">Ph√¢n c√¥ng ngay</button>
                </div>
            `).join('');
        }

        // MODAL PH√ÇN C√îNG
        function openAssignModal(name) {
            document.getElementById('modalTaskName').innerText = name;
            const mainSelect = document.getElementById('selectMain');
            const supportCheck = document.getElementById('checkSupport');
            
            mainSelect.innerHTML = '<option value="">-- Ch·ªçn tr∆∞·ªüng nh√≥m --</option>' + 
                staffData.map(s => `<option value="${s.id}">${s.name} (${s.rank})</option>`).join('');
            
            supportCheck.innerHTML = staffData.map(s => `
                <label class="flex items-center p-2 bg-slate-50 border rounded-lg cursor-pointer">
                    <input type="checkbox" class="mr-2"> <span class="text-[10px] font-bold">${s.name}</span>
                </label>
            `).join('');

            document.getElementById('assignModal').classList.remove('hidden');
        }

        function closeModal() { document.getElementById('assignModal').classList.add('hidden'); }
        function confirmAssign() { alert("Ph√¢n c√¥ng th√†nh c√¥ng!"); closeModal(); }

        // Kh·ªüi t·∫°o m·∫∑c ƒë·ªãnh
        loadStaffGrid();
    </script>
</body>
</html>
